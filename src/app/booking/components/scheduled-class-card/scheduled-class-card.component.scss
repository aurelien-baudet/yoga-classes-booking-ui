@import "../../../../theme/variables";
@import "../../../../theme/variable-utils";
@import "../../../../theme/button-utils";
@import "../../../../theme/icons-utils";

:host {
    display: block;
    width: 100%;
}

ion-card {
    border-radius: value($scheduled-class-card-layout, "border-radius");
    margin-inline-start: value($scheduled-class-card-layout, "margin-inline");
    margin-inline-end: value($scheduled-class-card-layout, "margin-inline");
    margin-bottom: value($scheduled-class-card-layout, "margin-bottom");
}

ion-card-header {
    background: value($scheduled-class-card-states, "bookable.header.background");
    padding: value($scheduled-class-card-header, "padding");

    ion-card-title {
        span {
            text-align: center;
            display: block;
            font-weight: bold;
            color: value($scheduled-class-card-states, "bookable.header.color");
        }
        .date {
            font-size: value($scheduled-class-card-header, "date.font-size");
            padding-bottom: value($scheduled-class-card-header, "date.padding-bottom");

            &::first-letter {
                text-transform: capitalize;
            }
        }
        .title {
            font-size: value($scheduled-class-card-header, "title.font-size");;
        }
    }
}

ion-card-content {
    
    .summary {
        padding: value($scheduled-class-card-layout, "summary.padding");
        
        .time {
            ion-icon {
                @include icon-styles(value($scheduled-class-card-time, "icon"));
                vertical-align: middle;
            }
            span {
                font-size: value($scheduled-class-card-time, "font-size");
                font-weight: bold;
                color: value($scheduled-class-card-time, "color");
                display: inline-block;
                vertical-align: middle;
            }
        }
        .place {
            ion-icon {
                @include icon-styles(value($scheduled-class-card-place, "icon"));
            }
            ion-button {
                font-size: value($scheduled-class-card-place, "font-size");
                font-weight: bold;
                @include discreet-button(value($scheduled-class-card-place, "color"));
            }
        }
        .remaining-places {
            ion-icon {
                @include icon-styles(value($scheduled-class-card-remaining-places, "icon"));
            }
        }
        .waiting-queue {
            ion-icon {
                @include icon-styles(value($scheduled-class-card-waiting-places, "icon"));
            }
        }
    }
}




/* animation */
ion-card-content .details {
    padding-top: 0;
    padding-bottom: 0;
    // transition: padding 0.2s linear 0.8s;
}
app-class-details {
    max-height: 0;
    overflow: hidden;
    // transition: max-height 1s ease-out;
}

.show-details {
    ion-card-content .details {
        padding-top: 5px;
        padding-bottom: 5px;
        // transition: padding 0.2s linear;
    }
    app-class-details {
        // max-height: 600px;
        max-height: 100%;
    }
}


/* states */
.place-changed {
    .summary .place {
        ion-button {
            font-size: 16px;
            --color: var(--ion-color-danger);
            --color-activated: var(--ion-color-danger);
            --color-focused: var(--ion-color-danger);
            --color-hover: var(--ion-color-danger);
        }
            
        .warning {
            font-size: 16px;
            color: var(--ion-color-warning);
            text-transform: none;
            display: block;
            padding-left: 5px;
            @include fas-icon($fa-var-exclamation-triangle);
            margin-bottom: 10px;

            &:before {
                padding-right: 5px;
            }
        }
    }
}
.booked.booking-approved {
    ion-card-header {
        background: var(--ion-color-success);
    }
}
.booked.booking-waiting {
    ion-card-header {
        background: var(--ion-color-tertiary);
    }
}
.canceled,
.booked.canceled {
    min-height: 150px;
    position: relative;

    ion-card-header {
        background: var(--ion-color-warning);
    }
    .summary,
    .details {
        display: none;
    }
    &:before {
        content: "";
        display: block;
        border: 50px solid var(--ion-color-warning);
        border-left-color: transparent;
        border-bottom-color: transparent;
        position: absolute;
        top: 0;
        right: 0;
        z-index: 1;
    }
    .cancel-details {
        h3 {
            position: absolute;
            top: -15px;
            right: 2px;
            color: var(--ion-color-warning-contrast);
            transform: rotate(45deg);
            font-size: 16px;
            font-weight: bold;
            width: 50px;
            z-index: 2;
        }
        p {
            padding: 0 50px 0 5px;
            margin: 10px 0;
        }
        .lesson-canceled {
            text-transform: uppercase;
        }
        p span {
            display: block;
        }
        .message {
            font-weight: bold;
            white-space: pre-wrap;
        }
    }
}